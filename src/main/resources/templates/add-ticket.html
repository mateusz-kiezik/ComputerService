<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
      layout:decorator="layout">
<head>
    <title>Add tickets</title>
</head>
<body>
<div layout:fragment="content">

    <h1>Add ticket</h1>

    <form action="#" th:action="@{/tickets/add-ticket}" th:object="${ticket}" method="POST">
        <label for="start-date">Date: </label>
        <input type="hidden" id="start-date"
               th:text="${#dates.format(#dates.createNow(), 'dd MMM yyyy HH:mm')}"><br>
        <label for="repair-date">Repair date: </label>
        <input type="date" id="repair-date" th:field="*{repairDate}"><br>

        <label for="type">Type: </label>
        <select id="type" th:field="*{type}">
            <option th:value="'REPAIR'" th:text="REPAIR"></option>
            <option th:value="'UPGRADE'" th:text="UPGRADE"></option>
        </select><br>
        <label for="estimated-cost">Estimated cost: </label>
        <input type="number" id="estimated-cost" th:field="*{estimatedCost}"><br>
        <label for="description">Description: </label>
        <input type="text" id="description" th:field="*{description}"><br>
        <input type="hidden" name="device" th:value="${deviceA.id}">
        <label for="service">Service: </label>
        <select id="service" th:field="*{user}">
            <option th:each="employee : ${employees}" th:value="${employee.id}"
                    th:text="${employee.firstName} + ' ' + ${employee.lastName} + ' (' + ${employee.email} + ')'"></option>
        </select><br>
        <button type="submit">ADD</button>
    </form>

</div>



</body>
</html>